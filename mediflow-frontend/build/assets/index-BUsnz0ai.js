const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dashboard-D73Mw_gA.js","assets/vendor-ui-U3Ba6Q2R.js","assets/vendor-react-BE6zuAE5.js","assets/vendor-icons-MnWTdEGO.js","assets/appointments-De25qIxm.js","assets/vendor-utils-DkKPvr0p.js","assets/PatientList-DuV7lszl.js","assets/PrescriptionManager-BtQkYLPG.js","assets/ProfileSettings-D7eXxue1.js","assets/chat-BLJ6V0OR.js","assets/vendor-socket-Ba10ZAmw.js"])))=>i.map(i=>d[i]);
import{j as e,q as t,r as s,c as r,P as a,s as n,t as l,u as o,a as i,v as c,w as d,x as m,y as h,z as u,A as x,B as p,R as f,C as g,b,T as v,D as j,e as w,O as N,E as y}from"./vendor-ui-U3Ba6Q2R.js";import{e as S,a as C,B as E,f as _,g as P,N as L,u as k,h as T}from"./vendor-react-BE6zuAE5.js";import{c as A,E as R,p as D,C as z,r as M,s as O,w as I,v as H,L as W,I as F,B as $,y as Y,t as B,m as Q,D as U,i as V,j as X,k as q,l as G,A as K,n as Z,T as J,F as ee}from"./dashboard-D73Mw_gA.js";import{u as te,S as se}from"./chat-BLJ6V0OR.js";import{S as re,s as ae,A as ne,f as le,L as oe,N as ie,O as ce,X as de,o as me,Q as he,R as ue,W as xe,Y as pe,h as fe,b as ge,w as be,m as ve,J as je,U as we,H as Ne,T as ye,Z as Se,_ as Ce}from"./vendor-icons-MnWTdEGO.js";import"./appointments-De25qIxm.js";import"./vendor-utils-DkKPvr0p.js";import"./vendor-socket-Ba10ZAmw.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var Ee,_e={};var Pe=function(){if(Ee)return _e;Ee=1;var e=S();return _e.createRoot=e.createRoot,_e.hydrateRoot=e.hydrateRoot,_e}();const Le={},ke=function(e,t,s){let r=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=s?.nonce||s?.getAttribute("nonce");r=e(t.map(e=>{if((e=function(e){return"/"+e}(e))in Le)return;Le[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${s}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script"),r.crossOrigin="",r.href=e,a&&r.setAttribute("nonce",a),document.head.appendChild(r),t?new Promise((t,s)=>{r.addEventListener("load",t),r.addEventListener("error",()=>s(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function a(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&a(e.reason);return e().catch(a)})},Te=R("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Ae({className:t,variant:s,...r}){return e.jsx("div",{"data-slot":"alert",role:"alert",className:A(Te({variant:s}),t),...r})}function Re({className:t,...s}){return e.jsx("div",{"data-slot":"alert-description",className:A("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...s})}const De=({size:t="md",variant:s="default"})=>{const r="white"===s?{primary:"text-white",secondary:"text-white/80",accent:"text-white/60"}:{primary:"text-green-600",secondary:"text-emerald-600",accent:"text-teal-600"};return e.jsx("div",{className:`${{sm:"w-16 h-16",md:"w-20 h-20",lg:"w-24 h-24",xl:"w-32 h-32"}[t]} relative flex items-center justify-center`,children:e.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"50",cy:"50",r:"48",className:"fill-green-50 stroke-green-200",strokeWidth:"2"}),e.jsx("path",{d:"M45 20 L55 20 L55 80 L45 80 Z M20 45 L80 45 L80 55 L20 55 Z",className:r.primary,fill:"currentColor"}),e.jsx("path",{d:"M30 35 Q25 30 20 35 Q15 40 20 45 Q25 50 30 45",className:r.secondary,fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"}),e.jsx("path",{d:"M70 30 Q75 25 80 30 Q85 35 80 40 L70 50 L60 40 Q55 35 60 30 Q65 25 70 30 Z",className:r.accent,fill:"currentColor"}),e.jsx("path",{d:"M15 65 Q20 60 25 65 Q30 70 35 65 Q40 60 45 65",className:r.secondary,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),e.jsx("path",{d:"M15 75 Q20 70 25 75 Q30 80 35 75 Q40 70 45 75",className:r.accent,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})})},ze=()=>{const[t,s]=C.useState(""),[r,a]=C.useState(""),[n,l]=C.useState(""),{login:o,isLoading:i}=D(),c=[{role:"Admin",email:"admin@mediflow.com",name:"Admin User",icon:le,color:"text-red-600"},{role:"Doctor",email:"gourab.das@gmail.com",name:"Gourab Das",icon:re,color:"text-green-600"},{role:"Patient",email:"mainak.mondal33@gmail.com",name:"Mainak Mondal",icon:ae,color:"text-emerald-600"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-20 left-20",children:e.jsx(re,{className:"h-32 w-32 text-green-600 rotate-12"})}),e.jsx("div",{className:"absolute top-40 right-20",children:e.jsx(ae,{className:"h-24 w-24 text-emerald-600 -rotate-12"})}),e.jsx("div",{className:"absolute bottom-20 left-40",children:e.jsx(ne,{className:"h-28 w-28 text-teal-600 rotate-45"})}),e.jsx("div",{className:"absolute bottom-40 right-40",children:e.jsx(le,{className:"h-20 w-20 text-green-500 -rotate-45"})})]}),e.jsx("div",{className:"relative flex items-center justify-center min-h-screen p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"bg-gradient-to-br from-green-600 to-emerald-700 p-4 rounded-3xl shadow-2xl border-4 border-white",children:e.jsx(De,{size:"md"})})}),e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-green-800 to-emerald-700 bg-clip-text text-transparent mb-2",children:"MediFlow"}),e.jsxs("div",{className:"text-green-700 text-lg mb-2",children:[e.jsxs("div",{className:"flex items-center justify-center mb-1",children:[e.jsx(le,{className:"h-5 w-5 mr-2"}),"Healthcare Management System"]}),e.jsx("div",{className:"text-sm text-green-600",children:"Advanced • Secure • Reliable"})]}),e.jsx("p",{className:"text-green-600 text-sm",children:"Trusted by healthcare professionals worldwide"}),e.jsxs("div",{className:"flex justify-center space-x-4 mt-3 text-xs text-green-500",children:[e.jsx("span",{children:"ISO 27001 Certified"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"HIPAA Compliant"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"SOC 2 Type II"})]})]}),e.jsxs(z,{className:"shadow-2xl border-0 bg-white/95 backdrop-blur-sm",children:[e.jsxs(M,{className:"text-center pb-4",children:[e.jsxs(O,{className:"text-2xl text-green-900 flex items-center justify-center",children:[e.jsx(le,{className:"h-6 w-6 mr-2 text-green-600"}),"Sign In"]}),e.jsx(I,{className:"text-green-700",children:"Enter your credentials to access your dashboard"})]}),e.jsx(H,{children:e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),l("");await o(t,r)||l("Invalid email or password")},className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"email",className:"text-green-900 font-medium",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(F,{id:"email",type:"email",value:t,onChange:e=>s(e.target.value),placeholder:"Enter your email address",className:"pl-10 border-green-200 focus:border-green-500 focus:ring-green-500",required:!0}),e.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2",children:e.jsx(le,{className:"h-4 w-4 text-green-500"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"password",className:"text-green-900 font-medium",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(F,{id:"password",type:"password",value:r,onChange:e=>a(e.target.value),placeholder:"Enter your password",className:"pl-10 border-green-200 focus:border-green-500 focus:ring-green-500",required:!0}),e.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2",children:e.jsx(ne,{className:"h-4 w-4 text-green-500"})})]})]}),n&&e.jsx(Ae,{variant:"destructive",children:e.jsx(Re,{children:n})}),e.jsx($,{type:"submit",className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-semibold py-3 shadow-lg hover:shadow-xl transition-all duration-200",disabled:i,children:i?e.jsxs(e.Fragment,{children:[e.jsx(oe,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"mr-2 h-4 w-4"}),"Sign In to MediFlow"]})})]})})]}),e.jsxs(z,{className:"shadow-xl border-0 bg-white/90 backdrop-blur-sm",children:[e.jsxs(M,{className:"text-center pb-4",children:[e.jsxs(O,{className:"text-xl text-green-900 flex items-center justify-center",children:[e.jsx(ne,{className:"h-5 w-5 mr-2 text-green-600"}),"Demo Accounts"]}),e.jsx(I,{className:"text-green-700",children:"Click to use demo credentials (passwords auto-filled)"})]}),e.jsx(H,{className:"space-y-3",children:c.map(t=>{const r=t.icon;return e.jsxs($,{variant:"outline",className:"w-full justify-start hover:bg-green-50 border-green-200 p-4 h-auto group transition-all duration-200 hover:shadow-md",onClick:()=>{s(t.email),a("admin@mediflow.com"===t.email?"password123":"Mainak@123")},children:[e.jsx("div",{className:"bg-gradient-to-br from-green-100 to-emerald-100 p-2 rounded-lg mr-3 group-hover:from-green-200 group-hover:to-emerald-200 transition-all",children:e.jsx(r,{className:`h-5 w-5 ${t.color}`})}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsxs("div",{className:"font-semibold text-green-900",children:[t.role,": ",t.name]}),e.jsx("div",{className:"text-sm text-green-600",children:t.email})]})]},t.email)})})]}),e.jsxs("div",{className:"text-center mt-8 space-y-4",children:[e.jsxs("div",{className:"flex justify-center items-center space-x-6 text-green-600",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Medical Care"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ae,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Patient Safety"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(le,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Secure Platform"})]})]}),e.jsx("p",{className:"text-green-600 text-sm",children:"© 2024 MediFlow Healthcare Systems. All rights reserved."}),e.jsx("p",{className:"text-green-500 text-xs",children:"Empowering healthcare professionals with advanced technology"})]})]})})]})};var Me="ScrollArea",[Oe]=r(Me),[Ie,He]=Oe(Me),We=C.forwardRef((r,n)=>{const{__scopeScrollArea:l,type:o="hover",dir:i,scrollHideDelay:c=600,...d}=r,[m,h]=C.useState(null),[u,x]=C.useState(null),[p,f]=C.useState(null),[g,b]=C.useState(null),[v,j]=C.useState(null),[w,N]=C.useState(0),[y,S]=C.useState(0),[E,_]=C.useState(!1),[P,L]=C.useState(!1),k=t(n,e=>h(e)),T=s(i);return e.jsx(Ie,{scope:l,type:o,dir:T,scrollHideDelay:c,scrollArea:m,viewport:u,onViewportChange:x,content:p,onContentChange:f,scrollbarX:g,onScrollbarXChange:b,scrollbarXEnabled:E,onScrollbarXEnabledChange:_,scrollbarY:v,onScrollbarYChange:j,scrollbarYEnabled:P,onScrollbarYEnabledChange:L,onCornerWidthChange:N,onCornerHeightChange:S,children:e.jsx(a.div,{dir:T,...d,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":y+"px",...r.style}})})});We.displayName=Me;var Fe="ScrollAreaViewport",$e=C.forwardRef((s,r)=>{const{__scopeScrollArea:n,children:l,nonce:o,...i}=s,c=He(Fe,n),d=C.useRef(null),m=t(r,d,c.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),e.jsx(a.div,{"data-radix-scroll-area-viewport":"",...i,ref:m,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...s.style},children:e.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:l})})]})});$e.displayName=Fe;var Ye="ScrollAreaScrollbar",Be=C.forwardRef((t,s)=>{const{forceMount:r,...a}=t,n=He(Ye,t.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:o}=n,i="horizontal"===t.orientation;return C.useEffect(()=>(i?l(!0):o(!0),()=>{i?l(!1):o(!1)}),[i,l,o]),"hover"===n.type?e.jsx(Qe,{...a,ref:s,forceMount:r}):"scroll"===n.type?e.jsx(Ue,{...a,ref:s,forceMount:r}):"auto"===n.type?e.jsx(Ve,{...a,ref:s,forceMount:r}):"always"===n.type?e.jsx(Xe,{...a,ref:s}):null});Be.displayName=Ye;var Qe=C.forwardRef((t,s)=>{const{forceMount:r,...a}=t,l=He(Ye,t.__scopeScrollArea),[o,i]=C.useState(!1);return C.useEffect(()=>{const e=l.scrollArea;let t=0;if(e){const s=()=>{window.clearTimeout(t),i(!0)},r=()=>{t=window.setTimeout(()=>i(!1),l.scrollHideDelay)};return e.addEventListener("pointerenter",s),e.addEventListener("pointerleave",r),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",s),e.removeEventListener("pointerleave",r)}}},[l.scrollArea,l.scrollHideDelay]),e.jsx(n,{present:r||o,children:e.jsx(Ve,{"data-state":o?"visible":"hidden",...a,ref:s})})}),Ue=C.forwardRef((t,s)=>{const{forceMount:r,...a}=t,o=He(Ye,t.__scopeScrollArea),i="horizontal"===t.orientation,c=ut(()=>m("SCROLL_END"),100),[d,m]=(h="hidden",u={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},C.useReducer((e,t)=>u[e][t]??e,h));var h,u;return C.useEffect(()=>{if("idle"===d){const e=window.setTimeout(()=>m("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(e)}},[d,o.scrollHideDelay,m]),C.useEffect(()=>{const e=o.viewport,t=i?"scrollLeft":"scrollTop";if(e){let s=e[t];const r=()=>{const r=e[t];s!==r&&(m("SCROLL"),c()),s=r};return e.addEventListener("scroll",r),()=>e.removeEventListener("scroll",r)}},[o.viewport,i,m,c]),e.jsx(n,{present:r||"hidden"!==d,children:e.jsx(Xe,{"data-state":"hidden"===d?"hidden":"visible",...a,ref:s,onPointerEnter:l(t.onPointerEnter,()=>m("POINTER_ENTER")),onPointerLeave:l(t.onPointerLeave,()=>m("POINTER_LEAVE"))})})}),Ve=C.forwardRef((t,s)=>{const r=He(Ye,t.__scopeScrollArea),{forceMount:a,...l}=t,[o,i]=C.useState(!1),c="horizontal"===t.orientation,d=ut(()=>{if(r.viewport){const e=r.viewport.offsetWidth<r.viewport.scrollWidth,t=r.viewport.offsetHeight<r.viewport.scrollHeight;i(c?e:t)}},10);return xt(r.viewport,d),xt(r.content,d),e.jsx(n,{present:a||o,children:e.jsx(Xe,{"data-state":o?"visible":"hidden",...l,ref:s})})}),Xe=C.forwardRef((t,s)=>{const{orientation:r="vertical",...a}=t,n=He(Ye,t.__scopeScrollArea),l=C.useRef(null),o=C.useRef(0),[i,c]=C.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=ot(i.viewport,i.content),m={...a,sizes:i,onSizesChange:c,hasThumb:Boolean(d>0&&d<1),onThumbChange:e=>l.current=e,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:e=>o.current=e};function h(e,t){return function(e,t,s,r="ltr"){const a=it(s),n=a/2,l=t||n,o=a-l,i=s.scrollbar.paddingStart+l,c=s.scrollbar.size-s.scrollbar.paddingEnd-o,d=s.content-s.viewport,m="ltr"===r?[0,d]:[-1*d,0];return dt([i,c],m)(e)}(e,o.current,i,t)}return"horizontal"===r?e.jsx(qe,{...m,ref:s,onThumbPositionChange:()=>{if(n.viewport&&l.current){const e=ct(n.viewport.scrollLeft,i,n.dir);l.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{n.viewport&&(n.viewport.scrollLeft=e)},onDragScroll:e=>{n.viewport&&(n.viewport.scrollLeft=h(e,n.dir))}}):"vertical"===r?e.jsx(Ge,{...m,ref:s,onThumbPositionChange:()=>{if(n.viewport&&l.current){const e=ct(n.viewport.scrollTop,i);l.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{n.viewport&&(n.viewport.scrollTop=e)},onDragScroll:e=>{n.viewport&&(n.viewport.scrollTop=h(e))}}):null}),qe=C.forwardRef((s,r)=>{const{sizes:a,onSizesChange:n,...l}=s,o=He(Ye,s.__scopeScrollArea),[i,c]=C.useState(),d=C.useRef(null),m=t(r,d,o.onScrollbarXChange);return C.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),e.jsx(Je,{"data-orientation":"horizontal",...l,ref:m,sizes:a,style:{bottom:0,left:"rtl"===o.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===o.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":it(a)+"px",...s.style},onThumbPointerDown:e=>s.onThumbPointerDown(e.x),onDragScroll:e=>s.onDragScroll(e.x),onWheelScroll:(e,t)=>{if(o.viewport){const r=o.viewport.scrollLeft+e.deltaX;s.onWheelScroll(r),mt(r,t)&&e.preventDefault()}},onResize:()=>{d.current&&o.viewport&&i&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:lt(i.paddingLeft),paddingEnd:lt(i.paddingRight)}})}})}),Ge=C.forwardRef((s,r)=>{const{sizes:a,onSizesChange:n,...l}=s,o=He(Ye,s.__scopeScrollArea),[i,c]=C.useState(),d=C.useRef(null),m=t(r,d,o.onScrollbarYChange);return C.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),e.jsx(Je,{"data-orientation":"vertical",...l,ref:m,sizes:a,style:{top:0,right:"ltr"===o.dir?0:void 0,left:"rtl"===o.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":it(a)+"px",...s.style},onThumbPointerDown:e=>s.onThumbPointerDown(e.y),onDragScroll:e=>s.onDragScroll(e.y),onWheelScroll:(e,t)=>{if(o.viewport){const r=o.viewport.scrollTop+e.deltaY;s.onWheelScroll(r),mt(r,t)&&e.preventDefault()}},onResize:()=>{d.current&&o.viewport&&i&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:lt(i.paddingTop),paddingEnd:lt(i.paddingBottom)}})}})}),[Ke,Ze]=Oe(Ye),Je=C.forwardRef((s,r)=>{const{__scopeScrollArea:n,sizes:i,hasThumb:c,onThumbChange:d,onThumbPointerUp:m,onThumbPointerDown:h,onThumbPositionChange:u,onDragScroll:x,onWheelScroll:p,onResize:f,...g}=s,b=He(Ye,n),[v,j]=C.useState(null),w=t(r,e=>j(e)),N=C.useRef(null),y=C.useRef(""),S=b.viewport,E=i.content-i.viewport,_=o(p),P=o(u),L=ut(f,10);function k(e){if(N.current){const t=e.clientX-N.current.left,s=e.clientY-N.current.top;x({x:t,y:s})}}return C.useEffect(()=>{const e=e=>{const t=e.target,s=v?.contains(t);s&&_(e,E)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[S,v,E,_]),C.useEffect(P,[i,P]),xt(v,L),xt(b.content,L),e.jsx(Ke,{scope:n,scrollbar:v,hasThumb:c,onThumbChange:o(d),onThumbPointerUp:o(m),onThumbPositionChange:P,onThumbPointerDown:o(h),children:e.jsx(a.div,{...g,ref:w,style:{position:"absolute",...g.style},onPointerDown:l(s.onPointerDown,e=>{if(0===e.button){e.target.setPointerCapture(e.pointerId),N.current=v.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),k(e)}}),onPointerMove:l(s.onPointerMove,k),onPointerUp:l(s.onPointerUp,e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=y.current,b.viewport&&(b.viewport.style.scrollBehavior=""),N.current=null})})})}),et="ScrollAreaThumb",tt=C.forwardRef((t,s)=>{const{forceMount:r,...a}=t,l=Ze(et,t.__scopeScrollArea);return e.jsx(n,{present:r||l.hasThumb,children:e.jsx(st,{ref:s,...a})})}),st=C.forwardRef((s,r)=>{const{__scopeScrollArea:n,style:o,...i}=s,c=He(et,n),d=Ze(et,n),{onThumbPositionChange:m}=d,h=t(r,e=>d.onThumbChange(e)),u=C.useRef(void 0),x=ut(()=>{u.current&&(u.current(),u.current=void 0)},100);return C.useEffect(()=>{const e=c.viewport;if(e){const t=()=>{if(x(),!u.current){const t=ht(e,m);u.current=t,m()}};return m(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[c.viewport,x,m]),e.jsx(a.div,{"data-state":d.hasThumb?"visible":"hidden",...i,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...o},onPointerDownCapture:l(s.onPointerDownCapture,e=>{const t=e.target.getBoundingClientRect(),s=e.clientX-t.left,r=e.clientY-t.top;d.onThumbPointerDown({x:s,y:r})}),onPointerUp:l(s.onPointerUp,d.onThumbPointerUp)})});tt.displayName=et;var rt="ScrollAreaCorner",at=C.forwardRef((t,s)=>{const r=He(rt,t.__scopeScrollArea),a=Boolean(r.scrollbarX&&r.scrollbarY);return"scroll"!==r.type&&a?e.jsx(nt,{...t,ref:s}):null});at.displayName=rt;var nt=C.forwardRef((t,s)=>{const{__scopeScrollArea:r,...n}=t,l=He(rt,r),[o,i]=C.useState(0),[c,d]=C.useState(0),m=Boolean(o&&c);return xt(l.scrollbarX,()=>{const e=l.scrollbarX?.offsetHeight||0;l.onCornerHeightChange(e),d(e)}),xt(l.scrollbarY,()=>{const e=l.scrollbarY?.offsetWidth||0;l.onCornerWidthChange(e),i(e)}),m?e.jsx(a.div,{...n,ref:s,style:{width:o,height:c,position:"absolute",right:"ltr"===l.dir?0:void 0,left:"rtl"===l.dir?0:void 0,bottom:0,...t.style}}):null});function lt(e){return e?parseInt(e,10):0}function ot(e,t){const s=e/t;return isNaN(s)?0:s}function it(e){const t=ot(e.viewport,e.content),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-s)*t;return Math.max(r,18)}function ct(e,t,s="ltr"){const r=it(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=t.scrollbar.size-a,l=t.content-t.viewport,o=n-r,i=c(e,"ltr"===s?[0,l]:[-1*l,0]);return dt([0,l],[0,o])(i)}function dt(e,t){return s=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(s-e[0])}}function mt(e,t){return e>0&&e<t}var ht=(e,t=()=>{})=>{let s={left:e.scrollLeft,top:e.scrollTop},r=0;return function a(){const n={left:e.scrollLeft,top:e.scrollTop},l=s.left!==n.left,o=s.top!==n.top;(l||o)&&t(),s=n,r=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(r)};function ut(e,t){const s=o(e),r=C.useRef(0);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),C.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(s,t)},[s,t])}function xt(e,t){const s=o(t);i(()=>{let t=0;if(e){const r=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(s)});return r.observe(e),()=>{window.cancelAnimationFrame(t),r.unobserve(e)}}},[e,s])}var pt=We,ft=$e,gt=at;function bt({className:t,children:s,...r}){return e.jsxs(pt,{"data-slot":"scroll-area",className:A("relative",t),...r,children:[e.jsx(ft,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:s}),e.jsx(vt,{}),e.jsx(gt,{})]})}function vt({className:t,orientation:s="vertical",...r}){return e.jsx(Be,{"data-slot":"scroll-area-scrollbar",orientation:s,className:A("flex touch-none p-px transition-colors select-none","vertical"===s&&"h-full w-2.5 border-l border-l-transparent","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent",t),...r,children:e.jsx(tt,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const jt=()=>{const[t,s]=C.useState([]),[r,a]=C.useState(0),[n,l]=C.useState(!0),[o,i]=C.useState(!1);let c;try{c=te()}catch(j){c=null}const d=c?.onNotification,m=c?.offNotification,h=c?.isConnected||!1,u=async()=>{try{const e=await Y.get("/api/notifications"),t=e.data?.data||e.data||[];s(t);const r=t.filter(e=>!e.read).length;a(r),l(!1)}catch(j){s([]),a(0),l(!1)}},x=async()=>{try{const e=await Y.get("/api/notifications/unread-count");a(e.data?.count||0)}catch(j){}},p=C.useCallback(e=>{s(t=>[e,...t]),a(e=>e+1),B.info(e.title,{description:e.message})},[]);C.useEffect(()=>{u();const e=setInterval(x,3e4);return()=>clearInterval(e)},[]),C.useEffect(()=>{if(h&&d&&m)return d(p),()=>{m(p)}},[h,d,m,p]);const f=async e=>{try{await(e=>Y.patch(`/api/notifications/${e}/read`))(e),s(t=>t.map(t=>t._id===e?{...t,read:!0}:t)),a(e=>Math.max(0,e-1)),B.success("Notification marked as read")}catch(j){B.error("Failed to mark notification as read")}},g=async e=>{try{await(e=>Y.delete(`/api/notifications/${e}`))(e);const r=!1===t.find(t=>t._id===e)?.read;s(t=>t.filter(t=>t._id!==e)),r&&a(e=>Math.max(0,e-1)),B.success("Notification deleted")}catch(j){B.error("Failed to delete notification")}},b=e=>{switch(e){case"appointment":return"bg-blue-100 text-blue-600";case"prescription":return"bg-green-100 text-green-600";case"reminder":return"bg-yellow-100 text-yellow-600";case"alert":return"bg-red-100 text-red-600";default:return"bg-gray-100 text-gray-600"}},v=e=>{const t=new Date(e),s=(new Date).getTime()-t.getTime(),r=Math.floor(s/6e4),a=Math.floor(s/36e5),n=Math.floor(s/864e5);return r<1?"Just now":r<60?`${r}m ago`:a<24?`${a}h ago`:n<7?`${n}d ago`:t.toLocaleDateString()};return e.jsxs(e.Fragment,{children:[e.jsxs($,{variant:"ghost",size:"icon",className:"relative hover:bg-green-50",onClick:()=>i(!0),children:[e.jsx(ie,{className:"h-6 w-6 text-gray-700"}),r>0&&e.jsx(Q,{variant:"destructive",className:"absolute -top-2 -right-2 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs animate-pulse",children:r>9?"9+":r})]}),e.jsx(U,{open:o,onOpenChange:i,children:e.jsxs(V,{className:"max-w-2xl max-h-[85vh] p-0",children:[e.jsxs(X,{className:"px-6 pt-6 pb-4 border-b",children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{children:[e.jsxs(q,{className:"text-2xl flex items-center gap-2",children:[e.jsx(ie,{className:"h-6 w-6 text-emerald-600"}),"Notifications"]}),e.jsx(G,{className:"mt-1",children:r>0?`You have ${r} unread notification${r>1?"s":""}`:"All caught up!"})]})}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[r>0&&e.jsxs($,{variant:"outline",size:"sm",onClick:async()=>{try{await Y.patch("/api/notifications/mark-all-read"),s(e=>e.map(e=>({...e,read:!0}))),a(0),B.success("All notifications marked as read")}catch(j){B.error("Failed to mark all as read")}},className:"h-9",children:[e.jsx(ce,{className:"h-4 w-4 mr-2"}),"Mark all read"]}),t.length>0&&e.jsxs($,{variant:"outline",size:"sm",onClick:async()=>{try{await Y.delete("/api/notifications/clear-all"),s([]),a(0),B.success("All notifications cleared")}catch(j){B.error("Failed to clear notifications")}},className:"h-9 text-red-600 hover:text-red-700 hover:bg-red-50",children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),"Clear all"]})]})]}),e.jsx("div",{className:"px-0",children:e.jsx(bt,{className:"h-[400px]",children:n?e.jsx("div",{className:"flex items-center justify-center h-40",children:e.jsx("p",{className:"text-sm text-gray-500",children:"Loading notifications..."})}):0===t.length?e.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-center px-4 py-4",children:[e.jsx(ie,{className:"h-12 w-12 text-gray-300 mb-2"}),e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"No notifications"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"You're all caught up! Check back later for updates."})]}):e.jsx("div",{className:"divide-y",children:t.map(t=>e.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors "+(t.read?"":"bg-blue-50/30"),children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${b(t.type)}`,children:e.jsx(ie,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:t.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.message}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:v(t.createdAt)})]}),!t.read&&e.jsx(Q,{variant:"default",className:"bg-blue-600 text-white text-xs",children:"New"})]}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[!t.read&&e.jsxs($,{variant:"ghost",size:"sm",onClick:()=>f(t._id),className:"h-7 text-xs",children:[e.jsx(me,{className:"h-3 w-3 mr-1"}),"Mark read"]}),e.jsxs($,{variant:"ghost",size:"sm",onClick:()=>g(t._id),className:"h-7 text-xs text-red-600 hover:text-red-700 hover:bg-red-50",children:[e.jsx(he,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]})]})},t._id))})})})]})})]})};function wt({...t}){return e.jsx(d,{"data-slot":"dropdown-menu",...t})}function Nt({...t}){return e.jsx(m,{"data-slot":"dropdown-menu-trigger",...t})}function yt({className:t,sideOffset:s=4,...r}){return e.jsx(h,{children:e.jsx(u,{"data-slot":"dropdown-menu-content",sideOffset:s,className:A("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...r})})}function St({className:t,inset:s,variant:r="default",...a}){return e.jsx(x,{"data-slot":"dropdown-menu-item","data-inset":s,"data-variant":r,className:A("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...a})}function Ct({className:t,...s}){return e.jsx(p,{"data-slot":"dropdown-menu-separator",className:A("bg-border -mx-1 my-1 h-px",t),...s})}function Et({...t}){return e.jsx(f,{"data-slot":"sheet",...t})}function _t({...t}){return e.jsx(w,{"data-slot":"sheet-portal",...t})}function Pt({className:t,...s}){return e.jsx(N,{"data-slot":"sheet-overlay",className:A("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...s})}function Lt({className:t,children:s,side:r="right",...a}){return e.jsxs(_t,{children:[e.jsx(Pt,{}),e.jsxs(g,{"data-slot":"sheet-content",className:A("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===r&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===r&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===r&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===r&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...a,children:[s,e.jsxs(b,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[e.jsx(de,{className:"size-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function kt({className:t,...s}){return e.jsx("div",{"data-slot":"sheet-header",className:A("flex flex-col gap-1.5 p-4",t),...s})}function Tt({className:t,...s}){return e.jsx(v,{"data-slot":"sheet-title",className:A("text-foreground font-semibold",t),...s})}function At({className:t,...s}){return e.jsx(j,{"data-slot":"sheet-description",className:A("text-muted-foreground text-sm",t),...s})}function Rt({delayDuration:t=0,...s}){return e.jsx(y,{"data-slot":"tooltip-provider",delayDuration:t,...s})}const Dt=C.createContext(null);function zt(){const e=C.useContext(Dt);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}function Mt({defaultOpen:t=!0,open:s,onOpenChange:r,className:a,style:n,children:l,...o}){const i=function(){const[e,t]=C.useState(void 0);return C.useEffect(()=>{const e=window.matchMedia("(max-width: 767px)"),s=()=>{t(window.innerWidth<768)};return e.addEventListener("change",s),t(window.innerWidth<768),()=>e.removeEventListener("change",s)},[]),!!e}(),[c,d]=C.useState(!1),[m,h]=C.useState(t),u=s??m,x=C.useCallback(e=>{const t="function"==typeof e?e(u):e;r?r(t):h(t),document.cookie=`sidebar_state=${t}; path=/; max-age=604800`},[r,u]),p=C.useCallback(()=>i?d(e=>!e):x(e=>!e),[i,x,d]);C.useEffect(()=>{const e=e=>{"b"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),p())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[p]);const f=u?"expanded":"collapsed",g=C.useMemo(()=>({state:f,open:u,setOpen:x,isMobile:i,openMobile:c,setOpenMobile:d,toggleSidebar:p}),[f,u,x,i,c,d,p]);return e.jsx(Dt.Provider,{value:g,children:e.jsx(Rt,{delayDuration:0,children:e.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":"16rem","--sidebar-width-icon":"3rem",...n},className:A("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",a),...o,children:l})})})}function Ot({side:t="left",variant:s="sidebar",collapsible:r="offcanvas",className:a,children:n,...l}){const{isMobile:o,state:i,openMobile:c,setOpenMobile:d}=zt();return"none"===r?e.jsx("div",{"data-slot":"sidebar",className:A("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",a),...l,children:n}):o?e.jsx(Et,{open:c,onOpenChange:d,...l,children:e.jsxs(Lt,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":"18rem"},side:t,children:[e.jsxs(kt,{className:"sr-only",children:[e.jsx(Tt,{children:"Sidebar"}),e.jsx(At,{children:"Displays the mobile sidebar."})]}),e.jsx("div",{className:"flex h-full w-full flex-col",children:n})]})}):e.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":i,"data-collapsible":"collapsed"===i?r:"","data-variant":s,"data-side":t,"data-slot":"sidebar",children:[e.jsx("div",{"data-slot":"sidebar-gap",className:A("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180","floating"===s||"inset"===s?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),e.jsx("div",{"data-slot":"sidebar-container",className:A("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex","left"===t?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]","floating"===s||"inset"===s?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",a),...l,children:e.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:n})})]})}function It({className:t,onClick:s,...r}){const{toggleSidebar:a}=zt();return e.jsxs($,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:A("size-7",t),onClick:e=>{s?.(e),a()},...r,children:[e.jsx(ue,{}),e.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function Ht({className:t,...s}){return e.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:A("flex flex-col gap-2 p-2",t),...s})}function Wt({className:t,...s}){return e.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:A("flex flex-col gap-2 p-2",t),...s})}function Ft({className:t,...s}){return e.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:A("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...s})}const $t=({children:t,activeTab:s,onTabChange:r})=>{const{user:a,logout:n}=D(),[l,o]=C.useState(!1),i=(()=>{const e=[{id:"dashboard",label:"Dashboard",icon:ne}],t=a?.role?.toLowerCase();switch(t){case"doctor":return[...e,{id:"patients",label:"My Patients",icon:Ne},{id:"appointments",label:"Appointments",icon:ge},{id:"prescriptions",label:"Prescriptions",icon:ve},{id:"messages",label:"Messages",icon:je}];case"patient":return[...e,{id:"appointments",label:"My Appointments",icon:ge},{id:"prescriptions",label:"My Prescriptions",icon:ve},{id:"messages",label:"Messages",icon:je},{id:"profile",label:"My Profile",icon:we}];case"receptionist":case"admin":return[...e,{id:"patients",label:"All Patients",icon:fe},{id:"appointments",label:"All Appointments",icon:ge},{id:"add-patient",label:"Add Patient",icon:be}];default:return e}})(),c=e=>{switch(e){case"doctor":return"bg-green-100 text-green-800";case"patient":return"bg-blue-100 text-blue-800";case"receptionist":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs(Mt,{children:[e.jsxs("div",{className:"flex h-screen w-full",children:[e.jsxs(Ot,{children:[e.jsx(Ht,{className:"p-4 bg-gradient-to-r from-green-600 to-emerald-500 rounded-b-2xl shadow-md",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-white p-2 rounded-lg shadow-md relative",children:e.jsx(re,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:"MediFlow"}),e.jsx("p",{className:"text-xs text-emerald-100",children:"Doctor’s Hub"})]})]})}),e.jsx(Ft,{className:"p-4",children:e.jsx("nav",{className:"space-y-2",children:i.map(t=>{const a=t.icon,n=s===t.id;return e.jsxs($,{variant:n?"secondary":"ghost",className:"w-full justify-start transition-all duration-200 "+(n?"bg-green-100 text-green-800 font-semibold shadow-sm":"hover:bg-green-50"),onClick:()=>r(t.id),children:[e.jsx(a,{className:"mr-2 h-5 w-5"}),t.label]},t.id)})})}),e.jsx(Wt,{className:"p-4 border-t bg-gray-50",children:e.jsxs(wt,{children:[e.jsx(Nt,{asChild:!0,children:e.jsxs($,{variant:"ghost",className:"w-full justify-start p-2 hover:bg-green-50 rounded-xl",children:[e.jsx(K,{className:"h-10 w-10 mr-2 ring-2 ring-green-500",children:e.jsx(Z,{children:a?.name.split(" ").map(e=>e[0]).join("")})}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("div",{className:"text-sm font-semibold",children:a?.name}),e.jsx(Q,{variant:"secondary",className:`text-xs ${c(a?.role||"")}`,children:a?.role})]})]})}),e.jsxs(yt,{align:"end",className:"w-56",children:[e.jsxs(St,{onClick:()=>r("settings"),children:[e.jsx(xe,{className:"mr-2 h-4 w-4"}),"Settings"]}),e.jsx(Ct,{}),e.jsxs(St,{onClick:()=>o(!0),children:[e.jsx(pe,{className:"mr-2 h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-red-600",children:"Log out"})]})]})]})})]}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx("header",{className:"border-b bg-white p-4 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(It,{}),e.jsx("h1",{className:"text-2xl font-bold text-green-700",children:i.find(e=>e.id===s)?.label||"Dashboard"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(jt,{}),e.jsxs("div",{className:"hidden md:flex items-center space-x-2 border-l pl-3 ml-2",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:a?.name}),e.jsx(Q,{variant:"secondary",className:`text-xs ${c(a?.role||"")}`,children:a?.role})]}),e.jsx(K,{className:"h-9 w-9 ring-2 ring-green-500",children:e.jsx(Z,{className:"bg-green-100 text-green-700 font-semibold text-sm",children:a?.name.split(" ").map(e=>e[0]).join("")})})]}),e.jsxs($,{variant:"outline",size:"sm",onClick:()=>o(!0),className:"border-red-200 text-red-600 hover:bg-red-50 hover:border-red-300",children:[e.jsx(pe,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})}),e.jsx("main",{className:"flex-1 overflow-auto p-6 bg-gray-50",children:t})]})]}),e.jsx(U,{open:l,onOpenChange:o,children:e.jsxs(V,{className:"sm:max-w-sm",children:[e.jsxs(X,{className:"space-y-2",children:[e.jsxs(q,{className:"flex items-center text-lg",children:[e.jsx(pe,{className:"mr-2 h-5 w-5 text-red-600"}),"Confirm Logout"]}),e.jsx(G,{className:"text-sm",children:"Are you sure you want to log out?"})]}),e.jsxs("div",{className:"flex flex-col gap-3 pt-4 ",children:[e.jsxs($,{type:"button",variant:"outline",onClick:()=>{n(),o(!1)},size:"lg",className:"w-full text-green-700 bg-red-600 hover:bg-red-700 font-bold shadow-md hover:shadow-lg transition-all text-base mb-2",children:[e.jsx(pe,{className:"mr-2 h-5 w-5"}),e.jsx("span",{className:"text-green-700 font-bold ",children:"Logout"})]}),e.jsx($,{type:"button",variant:"outline",size:"lg",onClick:()=>o(!1),className:"w-full border-gray-300 hover:bg-gray-100 font-semibold text-gray-700",children:"Cancel"})]})]})})]})};var Yt=(e,t,s,r,a,n,l,o)=>{let i=document.documentElement,c=["light","dark"];function d(t){(Array.isArray(e)?e:[e]).forEach(e=>{let s="class"===e,r=s&&n?a.map(e=>n[e]||e):a;s?(i.classList.remove(...r),i.classList.add(n&&n[t]?n[t]:t)):i.setAttribute(e,t)}),function(e){o&&c.includes(e)&&(i.style.colorScheme=e)}(t)}if(r)d(r);else try{let e=localStorage.getItem(t)||s;d(l&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e)}catch(m){}},Bt=C.createContext(void 0),Qt={setTheme:e=>{},themes:[]};C.memo(({forcedTheme:e,storageKey:t,attribute:s,enableSystem:r,enableColorScheme:a,defaultTheme:n,value:l,themes:o,nonce:i,scriptProps:c})=>{let d=JSON.stringify([s,t,n,e,o,l,r,a]).slice(1,-1);return C.createElement("script",{...c,suppressHydrationWarning:!0,nonce:"undefined"==typeof window?i:"",dangerouslySetInnerHTML:{__html:`(${Yt.toString()})(${d})`}})});const Ut=({...t})=>{const{theme:s="system"}=null!=(r=C.useContext(Bt))?r:Qt;var r;return e.jsx(J,{theme:s,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})};class Vt extends C.Component{state={hasError:!1,error:null};static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){}handleReset=()=>{this.setState({hasError:!1,error:null})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 p-4",children:e.jsxs(z,{className:"w-full max-w-md shadow-xl",children:[e.jsxs(M,{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"bg-red-100 p-4 rounded-full",children:e.jsx(ye,{className:"h-12 w-12 text-red-600"})})}),e.jsx(O,{className:"text-2xl text-gray-900",children:"Something went wrong"}),e.jsx(I,{children:"We encountered an unexpected error. Please try refreshing the page."})]}),e.jsxs(H,{className:"space-y-4",children:[this.state.error&&e.jsx("div",{className:"bg-gray-100 p-3 rounded-lg",children:e.jsx("p",{className:"text-sm text-gray-700 font-mono break-all",children:this.state.error.message})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx($,{onClick:this.handleReset,variant:"outline",className:"flex-1",children:"Try Again"}),e.jsxs($,{onClick:()=>window.location.reload(),className:"flex-1 bg-green-600 hover:bg-green-700",children:[e.jsx(Se,{className:"mr-2 h-4 w-4"}),"Refresh Page"]})]})]})]})}):this.props.children}}class Xt extends C.Component{state={hasError:!1,error:null};static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){}handleReset=()=>{this.setState({hasError:!1,error:null})};handleGoHome=()=>{this.setState({hasError:!1,error:null}),window.location.href="/"};render(){return this.state.hasError?e.jsx("div",{className:"flex items-center justify-center min-h-[500px] p-4",children:e.jsxs(z,{className:"w-full max-w-lg shadow-lg",children:[e.jsxs(M,{className:"text-center pb-4",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"bg-amber-100 p-3 rounded-full",children:e.jsx(ye,{className:"h-10 w-10 text-amber-600"})})}),e.jsx(O,{className:"text-xl text-gray-900",children:this.props.routeName?`Error in ${this.props.routeName}`:"Page Error"}),e.jsx(I,{children:"Something went wrong while loading this page. Please try again."})]}),e.jsxs(H,{className:"space-y-4",children:[this.state.error&&!1,e.jsxs("div",{className:"flex gap-3",children:[e.jsxs($,{onClick:this.handleReset,variant:"outline",className:"flex-1",children:[e.jsx(Se,{className:"mr-2 h-4 w-4"}),"Try Again"]}),e.jsxs($,{onClick:this.handleGoHome,className:"flex-1 bg-emerald-600 hover:bg-emerald-700",children:[e.jsx(Ce,{className:"mr-2 h-4 w-4"}),"Go Home"]})]})]})]})}):this.props.children}}const qt=C.lazy(()=>ke(()=>import("./dashboard-D73Mw_gA.js").then(e=>e.P),__vite__mapDeps([0,1,2,3,4,5])).then(e=>({default:e.DoctorDashboard}))),Gt=C.lazy(()=>ke(()=>import("./dashboard-D73Mw_gA.js").then(e=>e.Q),__vite__mapDeps([0,1,2,3,4,5])).then(e=>({default:e.PatientDashboard}))),Kt=C.lazy(()=>ke(()=>import("./dashboard-D73Mw_gA.js").then(e=>e.R),__vite__mapDeps([0,1,2,3,4,5])).then(e=>({default:e.ReceptionistDashboard}))),Zt=C.lazy(()=>ke(()=>import("./PatientList-DuV7lszl.js"),__vite__mapDeps([6,1,2,0,3,4,5])).then(e=>({default:e.PatientList}))),Jt=C.lazy(()=>ke(()=>import("./appointments-De25qIxm.js").then(e=>e.a),__vite__mapDeps([4,1,2,0,3,5])).then(e=>({default:e.AppointmentManager}))),es=C.lazy(()=>ke(()=>import("./PrescriptionManager-BtQkYLPG.js"),__vite__mapDeps([7,1,2,0,3,4,5])).then(e=>({default:e.PrescriptionManager}))),ts=C.lazy(()=>ke(()=>import("./ProfileSettings-D7eXxue1.js"),__vite__mapDeps([8,1,2,0,3,4,5])).then(e=>({default:e.ProfileSettings}))),ss=C.lazy(()=>ke(()=>import("./chat-BLJ6V0OR.js").then(e=>e.C),__vite__mapDeps([9,1,2,0,3,4,5,10])).then(e=>({default:e.ChatManager}))),rs=()=>e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx(oe,{className:"h-8 w-8 animate-spin text-emerald-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}),as=({children:t})=>{const{user:s,isLoading:r}=D();return r?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-100",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-green-200 border-t-green-600 mx-auto"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"bg-green-600 p-2 rounded-full",children:e.jsx("svg",{className:"h-6 w-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"})})})})]}),e.jsx("h2",{className:"text-2xl font-bold text-green-900 mb-2",children:"MediFlow"}),e.jsxs("p",{className:"text-green-700 flex items-center justify-center",children:[e.jsx("svg",{className:"h-4 w-4 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),"Loading Healthcare System..."]})]})}):s?e.jsx(e.Fragment,{children:t}):e.jsx(L,{to:"/login",replace:!0})},ns=()=>{const{user:t}=D(),s=k(),r=T(),a=()=>{switch(t?.role){case"Doctor":return e.jsx(qt,{});case"Patient":return e.jsx(Gt,{});case"Receptionist":case"Admin":return e.jsx(Kt,{});default:return e.jsx("div",{children:"Unknown role"})}};return e.jsx($t,{activeTab:(()=>{const e=s.pathname;return"/"===e||"/dashboard"===e?"dashboard":"/patients"===e?"patients":"/appointments"===e?"appointments":"/prescriptions"===e?"prescriptions":"/messages"===e?"messages":"/profile"===e?"profile":"/settings"===e?"settings":"/add-patient"===e?"add-patient":"dashboard"})(),onTabChange:e=>{r(`/${"dashboard"===e?"":e}`)},children:e.jsx(C.Suspense,{fallback:e.jsx(rs,{}),children:e.jsxs(_,{children:[e.jsx(P,{path:"/",element:e.jsx(Xt,{routeName:"Dashboard",children:a()})}),e.jsx(P,{path:"/dashboard",element:e.jsx(Xt,{routeName:"Dashboard",children:a()})}),e.jsx(P,{path:"/patients",element:e.jsx(Xt,{routeName:"Patients",children:e.jsx(Zt,{})})}),e.jsx(P,{path:"/appointments",element:e.jsx(Xt,{routeName:"Appointments",children:e.jsx(Jt,{})})}),e.jsx(P,{path:"/prescriptions",element:e.jsx(Xt,{routeName:"Prescriptions",children:e.jsx(es,{})})}),e.jsx(P,{path:"/messages",element:e.jsx(Xt,{routeName:"Messages",children:e.jsx(ss,{})})}),e.jsx(P,{path:"/profile",element:e.jsx(Xt,{routeName:"Profile",children:e.jsx(ts,{})})}),e.jsx(P,{path:"/settings",element:e.jsx(Xt,{routeName:"Settings",children:e.jsx(ts,{})})}),e.jsx(P,{path:"/add-patient",element:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{children:"Add New Patient"}),e.jsx("p",{className:"text-muted-foreground",children:"Register a new patient in the system"})]}),e.jsx("div",{className:"max-w-2xl",children:e.jsx("div",{className:"p-8 border-2 border-dashed border-muted rounded-lg text-center",children:e.jsx("p",{className:"text-muted-foreground",children:"Patient registration form would be implemented here with proper form validation and Supabase integration."})})})]})}),e.jsx(P,{path:"*",element:e.jsx(L,{to:"/",replace:!0})})]})})})},ls=()=>{const{user:t}=D();return e.jsxs(_,{children:[e.jsx(P,{path:"/login",element:t?e.jsx(L,{to:"/",replace:!0}):e.jsx(ze,{})}),e.jsx(P,{path:"/*",element:e.jsx(as,{children:e.jsx(ns,{})})})]})};function os(){return e.jsx(Vt,{children:e.jsx(E,{children:e.jsx(ee,{children:e.jsx(se,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-50",children:[e.jsx(ls,{}),e.jsx(Ut,{})]})})})})})}Pe.createRoot(document.getElementById("root")).render(e.jsx(os,{}));
